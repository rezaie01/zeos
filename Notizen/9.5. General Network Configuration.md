
#Netzwerkkonfiguration #LinuxKonfiguration #Systemkonfiguration #Netzwerkschnittstelle #ifconfig #IPAdresse #StatischeIP #DHCP #Gateway #Subnetz #PREFIX #Hostname #FQDN #DNS #Namensauflösung #resolvconf #etchosts #udev #PrivatesNetzwerk
## 9.5.1. Konfiguration der Netzwerkschnittstellen

Die Netzwerkschnittstellenkarten (NIC) werden hauptsächlich über Dateien im Verzeichnis **/etc/sysconfig/** konfiguriert. Dieses Verzeichnis sollte für jede Schnittstelle eine Datei enthalten, deren Stamm **ifconfig.** lauten muss (z. B. `ifconfig.eth0`). Jede dieser Dateien definiert die Attribute einer Schnittstelle, wie z. B. ihre IP-Adresse(n), Subnetzmasken und mehr.

**Wichtige Variablen in der Konfigurationsdatei:**

- **IFACE**: Definiert den Schnittstellennamen (z. B. `eth0`) und ist für alle Netzwerkkonfigurationsdateien erforderlich; die Dateinamenerweiterung muss mit diesem Wert übereinstimmen.
- **ONBOOT**: Wenn auf `yes` gesetzt, startet das System V Netzwerk-Skript die NIC während des Systemstartvorgangs. Andernfalls wird die NIC ignoriert. Schnittstellen können manuell mit den Befehlen `ifup` und `ifdown` gestartet oder gestoppt werden.
- **SERVICE**: Definiert die Methode zur Beschaffung der IP-Adresse, z. B. `ipv4-static` für eine statische Adresse. Methoden für DHCP (Dynamic Host Configuration Protocol) werden im BLFS-Buch behandelt.
- **IP, GATEWAY, BROADCAST**: Diese sind für die Einrichtung statischer IP-Adressen notwendig. Die Variable **GATEWAY** sollte die IP-Adresse des Standard-Gateways enthalten oder auskommentiert werden, falls keines vorhanden ist.
- **PREFIX**: Gibt die Anzahl der Bits an, die im Subnetz verwendet werden. Der Standardwert ist 24, falls er weggelassen wird, was einer Netzmaske von 255.255.255.0 entspricht.

**Schnittstellennamen:** Wenn das standardmäßige Konfigurationsverfahren nicht verwendet wurde, weist der **udev**-Daemon Schnittstellennamen basierend auf physischen Systemeigenschaften zu (z. B. `enp2s1`). Die tatsächlichen Schnittstellennamen können erst nach dem Booten des LFS-Systems bestimmt werden, beispielsweise durch Ausführen von `ip link` oder `ls /sys/class/net`.

## 9.5.2. Erstellung der Datei /etc/resolv.conf

Um Internet-Domainnamen in IP-Adressen aufzulösen, benötigt das System eine Methode zur Durchführung der Domain Name Service (DNS)-Namensauflösung. Dies wird durch die Erstellung der Datei **/etc/resolv.conf** erreicht, in die die **IP-Adresse des DNS-Servers** eingetragen wird. Es sollten oft mehrere DNS-Server (sekundäre Server) für die Ausfallsicherheit angegeben werden. Die öffentlichen IPv4-DNS-Adressen von Google sind beispielsweise 8.8.8.8 und 8.8.4.4.

* In `/etc/resolv.conf` schreibt man immer die IP-Adresse eines DNS-Servers. `nameserver 8.8.8.8`

## 9.5.3. Konfiguration des System-Hostnamens

Der Hostname des Systems wird während des Bootvorgangs mithilfe der Datei **/etc/hostname** festgelegt. Man erstellt diese Datei und trägt den gewünschten Namen für den Computer ein. Wichtig ist, dass hier **nicht** der Fully Qualified Domain Name (FQDN) eingetragen wird; diese Information gehört in die Datei `/etc/hosts`.

## 9.5.4. Anpassung der Datei /etc/hosts

Die Datei **/etc/hosts** wird verwendet, um einen **Fully Qualified Domain Name (FQDN)** und mögliche Aliase festzulegen. Die Syntax für einen Hosts-Datei-Eintrag lautet: `IP_address myhost.example.org aliases`.

Wenn statische IP-Adressen verwendet werden, sollten diese im Bereich der privaten Netzwerke liegen, falls der Computer nicht direkt im Internet sichtbar ist. Gültige private Netzwerkadressbereiche sind unter anderem:

|Privater Adressbereich|Normaler Prefix|
|:--|:--|
|10.0.0.1 - 10.255.255.254|8|
|172.x.0.1 - 172.x.255.254|16|
|**192.168.y.1 - 192.168.y.254**|**24**|

---

# Glossar zur Allgemeinen Netzwerkkonfiguration (Abschnitt 9.5)

| Begriff                                        | Erklärung und Details                                                                                                                                                                                                                                                                                                   |
| :--------------------------------------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **/etc/sysconfig/**                            | Das Verzeichnis, das üblicherweise die Dateien enthält, die festlegen, welche Netzwerkschnittstellen vom Netzwerk-Skript aktiviert und deaktiviert werden.                                                                                                                                                              |
| **ifconfig.xyz**                               | Der Stamm des Dateinamens (`ifconfig.`) für Konfigurationsdateien im Verzeichnis `/etc/sysconfig/`. `xyz` beschreibt die Netzwerkkarte, wobei der Schnittstellenname (z. B. `eth0`) in der Regel angemessen ist.                                                                                                        |
| **NIC (Network Interface Card)**               | Die Netzwerkschnittstellenkarte, die während des Systemstartvorgangs durch das System V Netzwerk-Skript gestartet werden kann, wenn die Variable `ONBOOT` auf `yes` gesetzt ist.                                                                                                                                        |
| **IFACE**                                      | Eine erforderliche Variable in allen Netzwerkkonfigurationsdateien, die den Schnittstellennamen (z. B. `eth0`) definiert. Die Dateinamenerweiterung muss mit diesem Wert übereinstimmen.                                                                                                                                |
| **ONBOOT**                                     | Die Variable, die festlegt, ob das System V Netzwerk-Skript die NIC während des Systemstartvorgangs aktiviert (`yes`). Wenn der Wert anders als `yes` ist, wird die NIC ignoriert.                                                                                                                                      |
| **SERVICE**                                    | Die Variable, die die Methode zum Erhalt der IP-Adresse definiert (z. B. `ipv4-static`). Das LFS-Bootscripts-Paket verwendet ein modulares Format für die IP-Zuweisung.                                                                                                                                                 |
| **DHCP (Dynamic Host Configuration Protocol)** | Eine Methode zur IP-Zuweisung, die üblicherweise über zusätzliche Dateien im Verzeichnis `/lib/services/` implementiert wird und im BLFS-Buch behandelt wird.                                                                                                                                                           |
| **GATEWAY**                                    | Die Variable, die die IP-Adresse des Standard-Gateways enthalten sollte. Falls kein Gateway vorhanden ist, sollte die Variable auskommentiert werden.                                                                                                                                                                   |
| **PREFIX**                                     | Die Variable, die die Anzahl der Bits angibt, die im Subnetz verwendet werden. Wenn sie weggelassen wird, ist der Standardwert **24** (entspricht der Netzmaske 255.255.255.0). Längere Präfixe als 24 Bits werden oft von DSL- und Kabel-ISPs verwendet.                                                               |
| **ifup / ifdown**                              | Befehle, mit denen Schnittstellen manuell gestartet oder gestoppt werden können.                                                                                                                                                                                                                                        |
| **udev**                                       | Der Daemon, der Netzwerkkarten-Schnittstellennamen basierend auf den physischen Systemeigenschaften zuweist (z. B. `enp2s1`), wenn das Standardkonfigurationsverfahren nicht genutzt wurde. Der LFS-`udev`-Daemon läuft erst, wenn das LFS-System gebootet ist.                                                         |
| **DNS (Domain Name Service) Namensauflösung**  | Der Mechanismus, den das System benötigt, um Internet-Domainnamen in IP-Adressen und umgekehrt aufzulösen.                                                                                                                                                                                                              |
| **/etc/resolv.conf**                           | Die Datei, die zur Durchführung der DNS-Namensauflösung erstellt wird. Sie enthält die IP-Adresse(n) des DNS-Servers. Sie kann auch eine `domain` oder `search` Anweisung enthalten.                                                                                                                                    |
| **Hostname**                                   | Der Name, der dem Computer zugewiesen wird und der während des Bootvorgangs mithilfe der Datei **/etc/hostname** festgelegt wird.                                                                                                                                                                                       |
| **/etc/hostname**                              | Die Datei, die verwendet wird, um den Hostnamen des Systems festzulegen. Hier sollte **nicht** der Fully Qualified Domain Name (FQDN) eingetragen werden.                                                                                                                                                               |
| **FQDN (Fully Qualified Domain Name)**         | Die vollständige Domain-Bezeichnung des Hosts (z. B. `myhost.example.org`). Diese Information gehört in die Datei **/etc/hosts**, nicht in `/etc/hostname`.                                                                                                                                                             |
| **/etc/hosts**                                 | Die Datei, die zur Festlegung eines FQDN und möglicher Aliase verwendet wird. Die Syntax eines Eintrags ist: `IP_address myhost.example.org aliases`.                                                                                                                                                                   |
| **Private Network Address Range**              | IP-Adressbereiche, die verwendet werden sollten, wenn der Computer nicht direkt im Internet sichtbar ist (d. h. wenn kein registrierter Domain- und gültiger zugewiesener IP-Adressblock vorhanden ist). Beispiele sind 192.168.y.1 - 192.168.y.254 (mit normalem Präfix 24) oder 10.0.0.1 - 10.255.255.254 (Präfix 8). |
