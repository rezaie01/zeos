#procps-ng

### Funktion des Pakets

- Sammlung von Werkzeugen zur Prozess- und Systemüberwachung.
- Liefert Informationen zu Prozessen, Speicher, CPU, Laufzeit und Kernel-Parametern.

---

### Kompilierungsprozess (exakt wie im Buch)

```bash
. /configure --prefix=/usr \
--docdir=/usr/share/doc/procps-ng-4.0.5 \
--disable-static \
--disable-kill \
--enable-watch8bit
```

```bash
make
```

- Tests vorbereiten / ausführen:

```bash
chown -R tester .
su tester -c "PATH=$PATH make check"
```

- Hinweis: Ein ps-Test kann fehlschlagen, wenn der Host-Kernel nicht mit CONFIG_BSD_PROCESS_ACCT gebaut ist; ein pgrep-Test kann im chroot fehlschlagen.
    
- Installation:
    

```bash
make install
```

---

### Nach-der-Installation-Konfiguration

- Keine spezielle Konfiguration im LFS-Abschnitt angegeben.
- Dokumentation installiert unter /usr/share/doc/procps-ng-4.0.5.
- Bei Problemen: prüf Kernel-Optionen (z. B. CONFIG_BSD_PROCESS_ACCT) und Berechtigungen für beobachtete Ressourcen.

---

### Essenzielle Programme (Analyse Ziele: Systemintegration, Anfänger — alle 10/10, auswendig lernen)

- #ps
    
    - Zweck: Liste laufender Prozesse.
    - Kernnutzung (auswendig):
        - ps aux — alle Prozesse mit ausführlichen Infos
        - ps -ef — alternative Standardformatierung
        - ps -o pid,ppid,cmd,etimes — benutzerdefinierte Spalten (Beispiel)
- #top
    
    - Zweck: Echtzeit-Übersicht CPU-/Speichernutzung pro Prozess.
    - Kernnutzung (auswendig):
        - top — interaktive Übersicht
        - Innerhalb top: P, M, k, r, q (Sortieren; Prozesse beenden; Help)
- #free
    
    - Zweck: Anzeige physischer und Swap-Speichernutzung.
    - Kernnutzung (auswendig):
        - free — Rohausgabe
        - free -h — menschenlesbare Einheiten (häufig genutzt)
- #vmstat
    
    - Zweck: Virtuelle Speicher- und Systemstatistiken (Kurzzeitüberblick).
    - Kernnutzung (auswendig):
        - vmstat — einmalige Ausgabe
        - vmstat 1 — periodische Updates jede Sekunde
- #uptime / #w
    
    - Zweck: System-Laufzeit und eingeloggte Nutzer / Details zu eingeloggten Nutzern.
    - Kernnutzung (auswendig):
        - uptime — Laufzeit und Load-Averages
        - w — wer angemeldet ist und was sie tun
- #pgrep / #pidof / #pkill
    
    - Zweck: Prozesse anhand Name/Attribute finden / signalisieren.
    - Kernnutzung (auswendig):
        - pgrep nginx — PIDs zu Prozessname
        - pidof sshd — PIDs eines angegebene Programms
        - pkill -HUP httpd — Signal an Prozesse nach Name senden
- #pwdx
    
    - Zweck: Arbeitsverzeichnis eines Prozesses ermitteln.
    - Kernnutzung (auswendig):
        - pwdx <PID>
- #pmap
    
    - Zweck: Speicherabbild eines Prozesses anzeigen.
    - Kernnutzung (auswendig):
        - pmap <PID>
- #slabtop
    
    - Zweck: Echtzeit-Anzeige des Kernel-Slab-Caches.
    - Kernnutzung (auswendig):
        - slabtop
- #sysctl
    
    - Zweck: Laufzeitparamater des Kernels lesen/setzen.
    - Kernnutzung (auswendig):
        - sysctl -a — alle Parameter anzeigen
        - sysctl net.ipv4.ip_forward=1 — temporär setzen
        - echo "net.ipv4.ip_forward=1" > /etc/sysctl.d/99-local.conf; sysctl --system — dauerhaft setzen (Policy/Dateiablage beachten)
- #watch
    
    - Zweck: Befehl wiederholt ausführen und Ausgabe beobachten.
    - Kernnutzung (auswendig):
        - watch -n 1 'ps aux | head' — Aktualisierung jede Sekunde

---

### Wichtige Dateien / Bibliothek

- Bibliothek: libproc-2.so (Programme verwenden gemeinsame Funktionen).
- Include-Verzeichnis: /usr/include/procps
- Dokumentation: /usr/share/doc/procps-ng-4.0.5

---