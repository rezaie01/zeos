## üì¶ Einleitung: Zweck von Binutils

Das Paket **Binutils** (Binary Utilities) enth√§lt essentielle Werkzeuge zur **Bearbeitung von Bin√§rdateien**, wie den **Linker** (`ld`), den **Assembler** (`as`) und andere Programme zur Handhabung von Objektdateien. Dieser **zweite Durchlauf (Pass 2)** ist entscheidend: Er kompiliert eine **finale, saubere Version** der Binutils, die gegen die in Pass 1 erstellten tempor√§ren GCC-Bibliotheken gelinkt wird. Diese Version wird sp√§ter im finalen LFS-System verwendet.

---

## üõ†Ô∏è 6.17.1. Installation von Binutils

### 1. Workaround f√ºr die Inkonsistenz von libtool

Das Binutils-Bausystem st√ºtzt sich auf eine mitgelieferte Kopie von `libtool`, um gegen interne statische Bibliotheken zu linken. Die mitgelieferten Kopien von `libiberty` und `zlib` verwenden jedoch `libtool` nicht. Diese Inkonsistenz k√∂nnte dazu f√ºhren, dass erzeugte Bin√§rdateien f√§lschlicherweise gegen Bibliotheken der Host-Distribution gelinkt werden.

Dieser Befehl umgeht dieses Problem:

```
sed '6031s/$add_dir//' -i ltmain.sh
```
> **<font color="#9bbb59">ERKL√ÑRUNG</font>:**
>
> `sed`: Ein Stream-Editor zum Filtern und Transformieren von Text.
>
> `'6031s/$add_dir//'`: Der `sed`-Befehl:
> * `6031`: Sucht die Zeile 6031 in der Datei.
> * `s/A/B/`: Ersetzt den regul√§ren Ausdruck `A` durch `B`.
> * `$add_dir`: Suchmuster (eine Variable, die den Host-Pfad enth√§lt).
> * `//`: Ersetzt das Suchmuster durch nichts (l√∂scht es).
> * **Zweck:** Entfernt eine Variable `$add_dir` aus `ltmain.sh`, um zu verhindern, dass der Linker f√§lschlicherweise Bibliotheken aus dem Hostsystem anstelle der LFS-Bibliotheken sucht.
>
> `-i`: Modifiziert die Datei direkt (in-place).
>
> `ltmain.sh`: Das Hauptskript von `libtool`.

### 2. Erstellen des Build-Verzeichnisses und Wechseln dorthin

```
mkdir -v build
cd build
```
> **<font color="#9bbb59">ERKL√ÑRUNG</font>:**
>
> `mkdir -v build`: Erstellt (`mkdir`) das separate Build-Verzeichnis namens `build`. Die Option `-v` zeigt eine Meldung f√ºr jede erstellte Aktion an.
>
> `cd build`: Wechselt in das neu erstellte Verzeichnis. Es ist Standardpraxis, au√üerhalb des Quellverzeichnisses zu kompilieren, um die Quell- und Build-Dateien sauber zu trennen.

### 3. Vorbereitung f√ºr die Kompilierung

Das Binutils-Paket wird f√ºr die Kompilierung vorbereitet:

```
../configure \
    --prefix=/usr \
    --build=$(../config.guess) \
    --host=$LFS_TGT \
    --disable-nls \
    --enable-shared \
    --enable-gprofng=no \
    --disable-werror \
    --enable-64-bit-bfd \
    --enable-new-dtags \
    --enable-default-hash-style=gnu
```
> **<font color="#9bbb59">ERKL√ÑRUNG</font>:**
> ` --disable-nls`: Deaktiviert die **Internationalisierung** (Native Language Support), um Abh√§ngigkeiten von der Host-Toolchain zu vermeiden.
>
> ` --enable-shared`: Baut die Binutils-Bibliotheken (wie `libbfd`) als **dynamische/Shared Libraries** anstelle von statischen.
>
> ` --enable-gprofng=no`: Deaktiviert das Gprof-NG-Profilierungstool, da es im fr√ºhen Toolchain-Build nicht ben√∂tigt wird.
>
> ` --disable-werror`: Verhindert, dass alle Compiler-Warnungen als Fehler behandelt werden, was den Build unn√∂tig abbrechen k√∂nnte.
>
> ` --enable-64-bit-bfd`: Erm√∂glicht 64-Bit-Unterst√ºtzung f√ºr das BFD-Bibliothek (Binary File Descriptor), auch auf Systemen mit kleineren Wortgr√∂√üen.
>
> ` --enable-new-dtags`: Aktiviert neue dynamische Tags im ELF-Format, was die Handhabung von Shared Libraries verbessert.
>
> ` --enable-default-hash-style=gnu`: Stellt den Standard-Hash-Stil f√ºr dynamische Symbole auf den GNU-Stil ein, was bei der Link-Geschwindigkeit helfen kann.

### 4. Kompilierung des Pakets

```
make
```
### 5. Installation des Pakets

```
make DESTDIR=$LFS install
```
### 6. Aufr√§umen

```
rm -v $LFS/usr/lib/lib{bfd,ctf,ctf-nobfd,opcodes,sframe}.{a,la}
```
> **<font color="#9bbb59">ERKL√ÑRUNG</font>:**
>
> `rm -v`: L√∂scht (`rm`) Dateien und zeigt eine Meldung f√ºr jede gel√∂schte Datei an (`-v`).
>
> `$LFS/usr/lib/lib{...}.{a,la}`: L√∂scht alle **statischen Bibliotheken** (`.a`) und **libtool archive files** (`.la`) f√ºr die aufgef√ºhrten Binutils-Bibliotheken (z.B. `libbfd.a`, `libbfd.la`).
> * **Zweck:** Statische Bibliotheken und `.la`-Dateien sind f√ºr die Cross-Kompilierung sch√§dlich, da sie den Linker dazu verleiten k√∂nnten, auf Host- oder falsche Bibliotheken zu verlinken. Da wir dynamische Bibliotheken aktiviert haben (`--enable-shared`), werden diese unn√∂tigen statischen Artefakte entfernt.

---

## ‚åõ Gesch√§tzte Werte
 - **Ungef√§hre Bauzeit:** 0,4 SBU (Standard Build Unit)
 - **Ben√∂tigter Festplattenspeicher:** 548 MB
    