#Libelf #elfutils #libelf.so

## üõ†Ô∏è Libelf aus Elfutils-0.193: Lernnotizen f√ºr LFS

### 1. Paketfunktion

- Libelf ist eine Bibliothek zur Handhabung (Lesen, Modifizieren) von **ELF-Dateien (Executable and Linkable Format)**.
    

---

### 2. Kompilierungsprozess

#### **Vorbereitung**

- **Quelle:** Libelf ist Teil des `elfutils-0.193`-Pakets.
    
- Konfiguration des Pakets:
    ```
    ./configure --prefix=/usr \
                --disable-debuginfod \
                --enable-libdebuginfod=dummy
    ```
    
    - `--disable-debuginfod`: Deaktiviert die `debuginfod`-Client-Funktionalit√§t.
        
    - `--enable-libdebuginfod=dummy`: Stellt eine Dummy-Version der `libdebuginfod`-Bibliothek bereit, die von anderen Elfutils-Programmen ben√∂tigt wird (obwohl wir hier nur `libelf` installieren).
        

#### **Kompilierung und Test**

- Kompilierung: `make`
    
- Testdurchf√ºhrung: `make check`
    
- **Wichtiger Punkt:** Zwei Tests (`dwarf_srclang_check` und `run-backtrace-native-core.sh`) schlagen bekannterma√üen fehl. Dies ist erwartet.
    

#### **Installation (Nur Libelf)**

- Das LFS-System ben√∂tigt **nur `libelf`**, nicht die gesamten Elfutils.
    
- Installation der `libelf`-Bibliothek:
    ```
    make -C libelf install
    ```
    
    - `make -C libelf install`: F√ºhrt das `install`-Ziel nur im `libelf`-Unterverzeichnis aus.
        
- Manuelle Installation der `pkgconfig`-Datei:
    ```
    install -vm644 config/libelf.pc /usr/lib/pkgconfig
    ```
    
    - `libelf.pc` wird f√ºr `pkg-config` ben√∂tigt, damit andere Pakete `libelf` finden k√∂nnen.
        
- Entfernen der statischen Bibliothek (LFS verwendet Shared Libraries):
    ```
    rm /usr/lib/libelf.a
    ```
    

---

### 3. Nach-der-Installation-Konfigurationen

- Es gibt keine Nach-der-Installation-Konfigurationsschritte.
    
- Installierte Verzeichnisse: `/usr/include/elfutils` (Header-Dateien).
    

---

### 4. Essenzielle Programme und Bibliotheken

|Programm / Bibliothek|Beschreibung|Nutzung|
|---|---|---|
|#libelf.so|Die dynamische Bibliothek `libelf`.|Enth√§lt **API-Funktionen** zur Handhabung von ELF-Objektdateien. Wird von anderen Programmen (wie dem Linker oder Debuggern) verwendet, um Bin√§rdateien zu analysieren oder zu manipulieren.|