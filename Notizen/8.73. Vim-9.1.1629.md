#vim

### Vim-9.1.1629

#### Funktion des Pakets

- Leistungsfähiger Texteditor zur Bearbeitung von Quelltext und Konfigurationsdateien.
- Bietet Modi: Normal, Insert, Visual, Ex; GUI-Version verfügbar (bei X nötig).

---

#### Kompilierungsprozess (Kurz, exakt wie im Buch)

- Änderung vimrc-Default:

```bash
echo '#define SYS_VIMRC_FILE "/etc/vimrc"' >> src/feature.h
```

- Vorbereitung:

```bash
. /configure -- prefix=/usr
```

- Kompilierung:

```bash
make
```

- Testvorbereitung:

```bash
chown -R tester .
sed '/test_plugin_glvs/d' -i src/testdir/Make_all.mak
```

- Tests ausführen (als tester, Ausgabe in Log um Terminalprobleme zu vermeiden):

```bash
su tester -c "TERM=xterm-256color LANG=en_US.UTF-8 make -j1 test" \
&> vim-test.log
```

- Installation:

```bash
make install
```

- Symlink für vi + Manpages erstellen:

```bash
ln -sv vim /usr/bin/vi
for L in /usr/share/man/{,*/}man1/vim.1; do
ln -sv vim.1 $(dirname $L)/vi.1
done
```

- Symlink für Dokumentation:

```bash
ln -sv ../vim/vim91/doc /usr/share/doc/vim-9.1.1629
```

---

#### Nach-der-Installation-Konfiguration (exakte Datei wie im Buch)

- Default /etc/vimrc anlegen:

```bash
cat > /etc/vimrc << "EOF"
" Begin /etc/vimrc

" Ensure defaults are set before customizing settings, not after
source $VIMRUNTIME/defaults.vim
let skip_defaults_vim=1
set nocompatible
set backspace=2
set mouse=
syntax on
if (&term == "xterm" )
(&term == "putty" )
set background=dark
endif
" End /etc/vimrc
EOF
```

- Hinweise aus Buch (knapp): nocompatible aktiviert moderne Vim-Verhalten; backspace=2 erlaubt Backspace über Einrückungen/Zeilen; set mouse= deaktiviert Mausinterferenz beim Einfügen; syntax on aktiviert Syntax-Highlighting.
- Spell-Dateien (nur Englisch standardmäßig). Installationshinweis:
    - Kopiere .spl (und optional .sug) aus runtime/spell nach /usr/share/vim/vim91/spell/.
    - Beispiel-Konfiguration:

```text
set spelllang=en, ru
set spell
```

---

#### Installierter Inhalt (Kurz)

- Programme: ex (link), rview (link), rvim (link), vi (link), view, vim, vimdiff (link), vimtutor, xxd
- Verzeichnis: /usr/share/vim

---

# **Vim: Kurzes & präzises Fortgeschrittenen-Tutorial**

## **1. Navigation**

- `h`, `j`, `k`, `l` – Grundbewegungen
    
- `w`, `b`, `e` – wortweise springen
    
- `0`, `$` – zum Anfang/Ende der Zeile
    
- `gg`, `G` – zum Anfang/Ende der Datei
    
- `Ctrl-u`, `Ctrl-d` – halbe Seite hoch/runter
    
- `Ctrl-b`, `Ctrl-f` – ganze Seite hoch/runter
    
- `%` – zur passenden Klammer springen
    

---

## **2. Bearbeiten**

- `i`, `a`, `o` – Einfügen vor/nach Zeichen / neue Zeile
    
- `ciw` – aktuelles Wort ersetzen
    
- `caw` – ganzes Wort ersetzen (inkl. Leerzeichen)
    
- `dd`, `yy`, `p` – Zeile löschen, kopieren, einfügen
    
- `d$`, `d0`, `D` – bis Ende/Anfang der Zeile löschen
    
- `.` – letzten Befehl wiederholen
    

---

## **3. Suchen & Ersetzen**

- `/text` – vorwärts suchen
    
- `?text` – rückwärts suchen
    
- `n`, `N` – nächster / vorheriger Treffer
    
- `:%s/alt/neu/g` – alles ersetzen
    
- `:%s/alt/neu/gc` – alles ersetzen, aber bestätigen
    

---

## **4. Visual Mode**

- `v` – Zeichenweise markieren
    
- `V` – Zeilenweise markieren
    
- `Ctrl-v` – Blockweise (rechteckige Auswahl)
    
- `>` / `<` – eingerückte Bereiche verschieben
    
- `y`, `d`, `c` – markierten Bereich kopieren, löschen, ändern
    

---

## **5. Fenster (Splits)**

- `:sp` – horizontal splitten
    
- `:vsp` – vertikal splitten
    
- `Ctrl-w h/j/k/l` – zwischen Splits wechseln
    
- `Ctrl-w =` – Splits gleich groß machen
    
- `:close` – aktuelles Fenster schließen
    

---

## **6. Tabs**

- `:tabnew` – neues Tab
    
- `gt`, `gT` – zwischen Tabs wechseln
    
- `:tabclose` – aktuelles Tab schließen
    

---

## **7. Buffers (extrem nützlich)**

- `:ls` – alle Buffers anzeigen
    
- `:b <nr>` – zu Buffer wechseln
    
- `:bd` – Buffer schließen
    
- `:b#` – zum vorherigen Buffer zurück
    

---

## **8. Sprünge & Bewegungs-Shortcuts**

- `f<char>` – zum nächsten `<char>` springen
    
- `t<char>` – bis _vor_ `<char>` springen
    
- `;` / `,` – f/t wiederholen / rückwärts
    
- `H`, `M`, `L` – zur oberen/Mitte/unteren Bildschirmzeile
    

---

## **9. Makros**

- `q<key>` – Makroaufnahme starten
    
- Befehle ausführen
    
- `q` – Aufnahme beenden
    
- `@<key>` – Makro ausführen
    
- `@@` – letztes Makro wiederholen
    

---

## **10. Diff & Vergleich**

- `vim -d file1 file2` – Dateien vergleichen
    
- `]c`, `[c` – zum nächsten/vorherigen Unterschied
    
- `do` / `dp` – Änderungen übernehmen / pushen
    

---

## **11. Grundlegende Konfiguration (sehr nützlich)**

In `~/.vimrc`:

```
set number
set relativenumber
set expandtab
set shiftwidth=4
set tabstop=4
set autoindent
set smartcase
set ignorecase
set incsearch
set hlsearch
```

---

## **12. Must-Know Tricks**

- `:help <befehl>` – bestes Hilfe-System
    
- `Ctrl-o` / `Ctrl-i` – zurück/vor zum letzten Cursor-Ort
    
- `g;` / `g,` – letzte Änderungen anspringen
    
- `*` – nach dem Wort unter dem Cursor suchen
    
